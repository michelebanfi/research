| ID | Category | Requirement | Description | Target File(s) |
| --- | --- | --- | --- | --- |
| **REQ-TOOL-04** | **Tools** | **Web Search Integration** | Implement a `web_search` tool using an external API (e.g., DuckDuckGo) to retrieve fresh information or documentation not present in the local knowledge base. | `src/tools.py` |
| **REQ-AGENT-03** | **Reasoning** | **Autonomous Search Fallback** | Update the agent's logic to automatically trigger `web_search` if local `vector_search` relevance scores fall below a defined threshold (e.g., < 0.3). | `src/agent.py` |
| **REQ-INGEST-01** | **Ingestion** | **Code-Aware Graphing** | Modify `ASTParser` to map Python classes and methods directly to graph nodes (Type: Class/Method) and edges, enabling structural queries like "What methods does this class have?". | `src/ingestion.py` |
| **REQ-NLP-01** | **Extraction** | **Key Claim Extraction** | Enhance `DoclingParser` to use an LLM prompt on specific sections (Abstract, Conclusion) to extract "Key Claims" as bullet-point metadata for better summarization. | `src/ingestion.py` |
| **REQ-DATA-02** | **Organization** | **Semantic Auto-Clustering** | Create a background process that identifies dense clusters of nodes across multiple files and automatically links them to a new high-level "Topic" node. | `src/database.py` |
| **REQ-DATA-01** | **Data Integrity** | **Strict Entity Resolution** | *(Existing but Critical)* Enforce resolution by both `name` AND `type` during ingestion to distinguish between entities (e.g., "Apple" the Company vs. "Apple" the Fruit). | `schema.sql`, `src/ai_engine.py` |

### Implementation Notes

* **REQ-TOOL-04**: You can add this to the `_create_tools` dictionary in `ToolRegistry`.
* **REQ-AGENT-03**: This logic fits into the `run` loop in `ResearchAgent`, specifically in the "Final fallback" section or after the initial `vector_search`.
* **REQ-INGEST-01**: This would expand the `ASTParser` class to not just chunk text but also return structured graph data (nodes/edges) alongside the chunks.