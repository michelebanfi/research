| ID | Category | Requirement Name | Description | Priority |
| --- | --- | --- | --- | --- |
| **SYS-06** | System Architecture | **Async AI Pipeline** | Refactor `generate_summary` and `extract_metadata_graph` in `src/ai_engine.py` to use `ollama.AsyncClient` and `await` them in `app.py`. This prevents the Streamlit UI from freezing during long inference tasks. | **High** |
| **AI-07** | AI Processing | **Robust JSON Parsing** | Replace the fragile string slicing in `extract_metadata_graph` with a robust parser (e.g., `json_repair` or Pydantic validation) to handle LLM markdown code blocks and trailing commas without crashing the ingestion pipeline. | **High** |
| **DB-08** | Database | **Broad Recall Search** | Update `search_vectors` in `src/database.py` to increase the initial retrieval limit (`match_count`) from 10 to 50+, ensuring the re-ranker has a wider pool of candidates to process for better accuracy. | **Medium** |
| **ING-06** | Ingestion Pipeline | **Context-Aware Code Chunking** | Modify `ASTParser` in `src/ingestion.py` to prepend the parent class signature/docstring to the content of every method chunk, ensuring the embedding model understands the context of the code. | **Medium** |
| **AI-08** | AI Processing | **Graph Entity Resolution** | Implement a normalization step in `AIEngine` to standardize entity names (e.g., lowercase, lemmatization) before graph insertion, preventing duplicate nodes like "Streamlit" and "streamlit" from disconnecting the graph. | **Low** |